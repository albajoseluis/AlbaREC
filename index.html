<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Clima y Noticias</title>
</head>
<body>
    <h1>Dashboard Clima y Noticias</h1>
    <p id="weather">Cargando clima...</p>
    <p id="news">Cargando noticias...</p>

    <script>
        async function getWeather() {
            try {
                const apiKey = "76e691ab98fc575fc60d73bec327e5b3"; // Clave OpenWeatherMap
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Albacete&appid=${apiKey}&units=metric&lang=es`);
                const data = await response.json();

                if (data.cod === 200) {
                    document.getElementById('weather').innerText = `üå¶ Clima en ${data.name}: ${data.weather[0].description}, ${data.main.temp}¬∞C`;
                } else {
                    document.getElementById('weather').innerText = "‚ö† Error al obtener el clima.";
                }
            } catch (error) {
                document.getElementById('weather').innerText = "‚ùå No se pudo conectar con el servicio de clima.";
            }
        }

        async function getNews() {
            try {
                const apiKey = "48749cf50451427090c2bea4d4ddc16f"; // Clave NewsAPI
                const response = await fetch(`https://newsapi.org/v2/top-headlines?country=es&apiKey=${apiKey}`);
                const data = await response.json();

                if (data.status === "ok" && data.articles.length > 0) {
                    let index = 0;
                    function updateNews() {
                        document.getElementById('news').innerText = `üì∞ ${data.articles[index].title}`;
                        index = (index + 1) % data.articles.length;
                    }
                    updateNews();
                    setInterval(updateNews, 5000);
                } else {
                    document.getElementById('news').innerText = "‚ö† No hay noticias disponibles.";
                }
            } catch (error) {
                document.getElementById('news').innerText = "‚ùå No se pudo conectar con el servicio de noticias.";
            }
        }

        getWeather();
        getNews();
    </script>
</body>
</html>
